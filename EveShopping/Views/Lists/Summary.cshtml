@model EveShopping.Models.EDVSummary

@{
    ViewBag.Title = "Summary";
}

<h2>Summary</h2>

<div id="grid_parts"></div>

@section scripts{
   
    @Scripts.Render("~/bundles/jqueryui")
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/themes/base/jquery-ui.css" />
 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>    
 <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>
    <script src="~/Scripts/eshSummary.js" type="text/javascript">
    </script>
    <link rel="stylesheet" href="~/Scripts/grid/pqgrid.min.css" />
 <script type="text/javascript" src="~/Scripts/grid/pqgrid.min.js"></script>

    <script type="text/javascript">

        $(function () {
@*            $.getJSON(
                '/lists/summaryData/' + '@this.ViewBag.PublicID',
            function(data){*@
                var obj = {
                    title: "Grid From Array",
                    editable: false,
                    roundCorners: false,
                    flexWidth: true,
                    flexHeight: true,
                    numberCell: false,
                    columnBorders: false,
                    topVisible: false

                };
                var data = @Html.Raw( EveShopping.Web.Modelo.ConvertToJavaScriptArray.Convert(this.Model.Summary.Items))
                //var data = [{ 'ImageUrl32': 'http://image.eveonline.com/Type/27361_32.png', 'Name': 'Caldari Navy Scourge Light Missile', 'Units': '10000', 'Volume': '150' }, { 'ImageUrl32': 'http://image.eveonline.com/Type/27371_32.png', 'Name': 'Caldari Navy Inferno Light Missile', 'Units': '10000', 'Volume': '150' }, { 'ImageUrl32': 'http://image.eveonline.com/Type/27381_32.png', 'Name': 'Caldari Navy Nova Light Missile', 'Units': '10000', 'Volume': '150' }, { 'ImageUrl32': 'http://image.eveonline.com/Type/27387_32.png', 'Name': 'Caldari Navy Mjolnir Light Missile', 'Units': '10000', 'Volume': '150' }];
                //var data = [[1, 'Exxon Mobil', '339,938.0', '36,130.0'],
                //    [2, 'Wal-Mart Stores', '315,654.0', '11,231.0'],
                //    [3, 'Royal Dutch Shell', '306,731.0', '25,311.0'],
                //    [4, 'BP', '267,600.0', '22,341.0'],
                //    [5, 'General Motors', '192,604.0', '-10,567.0'],
                //    [6, 'Chevron', '189,481.0', '14,099.0'],
                //    [7, 'DaimlerChrysler', '186,106.3', '3,536.3'],
                //    [8, 'Toyota Motor', '185,805.0', '12,119.6'],
                //    [9, 'Ford Motor', '177,210.0', '2,024.0'],
                //    [10, 'ConocoPhillips', '166,683.0', '13,529.0'],
                //    [11, 'General Electric', '157,153.0', '16,353.0'],
                //    [12, 'Total', '152,360.7', '15,250.0'],
                //    [13, 'ING Group', '138,235.3', '8,958.9'],
                //    [14, 'Citigroup', '131,045.0', '24,589.0'],
                //    [15, 'AXA', '129,839.2', '5,186.5'],
                //    [16, 'Allianz', '121,406.0', '5,442.4'],
                //    [17, 'Volkswagen', '118,376.6', '1,391.7'],
                //    [18, 'Fortis', '112,351.4', '4,896.3'],
                //    [19, 'Crédit Agricole', '110,764.6', '7,434.3'],
            //    [20, 'American Intl. Group', '108,905.0', '10,477.0']]; 
                obj.colModel = [{
                    title: "",
                    width: 70, dataType: "string",
                    render: function (ui) {
                        return "<img src='" + ui.rowData[0] + "'/>";
                    },
                },
                { title: "Name", width: 350, dataType: "string" },
                { title: "Units", width: 56, dataType: "int", align: "right" },
                { title: "Volume", width: 100, dataType: "float", align: "right" }];
                obj.dataModel = { data: data };
                var $grid = $("#grid_parts").pqGrid(obj);

            //});
        });
    </script>
}
