@model IEnumerable<EveShopping.Modelo.EntidadesAux.FittingAnalyzed>

@foreach (var item in this.Model)
{
 
    <h3>@item.Name</h3>

    <div class="subs-wrapper-main" data-esh-secDesp-name="@item.Name">
        <div class="subs-link-bar">
        @Ajax.ActionLink("Use fit", "UseAnalysedFit"
             , new { fitName = item.Name }, new AjaxOptions {OnSuccess="NewActionUsed"})
            </div>
        <table>
            <tr class="fila-impar">
                <td>@item.Ship</td>
                <td>x 1</td>
            </tr>
            @{
    ViewBag.prevSlot = 0;
    ViewBag.estilo = "fila-impar";
            }
            @foreach (var hwdItem in item.Items)
            {
                if (hwdItem.Slot != ViewBag.prevSlot)
                {
                    ViewBag.prevSlot = hwdItem.Slot;
                    if (string.Equals(ViewBag.estilo, "fila-par"))
                    {
                        ViewBag.estilo = "fila-impar";
                    }
                    else
                    {
                        ViewBag.estilo = "fila-par";
                    }
                }
                <tr class="@ViewBag.estilo">
                    <td>@hwdItem.Name</td>
                    <td>x @hwdItem.Units</td>
                </tr>
            }
        </table>
    </div>
    
}
